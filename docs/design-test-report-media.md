# TestReports ë¹„ë””ì˜¤ ë…¹í™” êµ¬í˜„ + ParallelReports ë ˆê±°ì‹œ ì‚­ì œ

## ê°œìš”

**ë‚ ì§œ**: 2026ë…„ 1ì›” 13ì¼
**ëª©í‘œ**:
1. TestReportsì— ì‹œë‚˜ë¦¬ì˜¤ ì§„í–‰ ì˜ìƒ ë…¹í™” ê¸°ëŠ¥ ì¶”ê°€
2. ParallelReports(ë³‘ë ¬ ì‹¤í–‰) ë ˆê±°ì‹œ ì½”ë“œ ì‚­ì œ

---

## í˜„ì¬ ìƒíƒœ

### testReportService.ts
- `captureScreenshot()` âœ… êµ¬í˜„ë¨
- `saveHighlightScreenshot()` âœ… êµ¬í˜„ë¨
- `saveVideo()` âœ… **ì´ë¯¸ êµ¬í˜„ë¨** (ë¼ì¸ 181-211)

### testExecutor.ts
- ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ âœ… í˜¸ì¶œ ì¤‘
- **ë¹„ë””ì˜¤ ë…¹í™”** âŒ í˜¸ì¶œ ì•ˆí•¨ â†’ **ì¶”ê°€ í•„ìš”**

### ì‚­ì œ ëŒ€ìƒ (ParallelReports ë ˆê±°ì‹œ)
```
backend/
â”œâ”€â”€ src/services/parallelExecutor.ts      # ì‚­ì œ
â”œâ”€â”€ src/services/parallelReport.ts        # ì‚­ì œ
â”œâ”€â”€ src/routes/session.ts                 # parallel ê´€ë ¨ ì—”ë“œí¬ì¸íŠ¸ ì‚­ì œ

frontend/
â”œâ”€â”€ src/components/ParallelReports/       # í´ë” ì „ì²´ ì‚­ì œ
â”œâ”€â”€ src/components/ParallelControl/       # í´ë” ì „ì²´ ì‚­ì œ
â”œâ”€â”€ src/components/ParallelLogs/          # í´ë” ì „ì²´ ì‚­ì œ
```

---

## Phase 1: TestExecutor ë¹„ë””ì˜¤ ë…¹í™” ì¶”ê°€

### ë³€ê²½ íŒŒì¼

| íŒŒì¼ | ë³€ê²½ ë‚´ìš© |
|------|----------|
| `backend/src/services/testExecutor.ts` | ë¹„ë””ì˜¤ ë…¹í™” ë¡œì§ ì¶”ê°€ |
| `backend/src/types/execution.ts` | ExecutionOptionsì— recordVideo ì¶”ê°€ |
| `frontend/src/components/TestReports/TestReports.tsx` | ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ ì¶”ê°€ |

### êµ¬í˜„ ì„¤ê³„

#### 1. ExecutionOptions í™•ì¥

```typescript
// backend/src/types/execution.ts

interface ExecutionOptions {
  captureScreenshots?: boolean;    // ë‹¨ê³„ë³„ ìŠ¤í¬ë¦°ìƒ· (ê¸°ë³¸: false)
  captureOnComplete?: boolean;     // ì™„ë£Œ ì‹œ ìŠ¤í¬ë¦°ìƒ· (ê¸°ë³¸: true)
  captureOnError?: boolean;        // ì—ëŸ¬ ì‹œ ìŠ¤í¬ë¦°ìƒ· (ê¸°ë³¸: true)
  recordVideo?: boolean;           // [NEW] ë¹„ë””ì˜¤ ë…¹í™” (ê¸°ë³¸: true)
}
```

#### 2. testExecutor.ts ë¹„ë””ì˜¤ ë…¹í™” íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  _executeScenarioOnDevice()                                  â”‚
â”‚                                                              â”‚
â”‚  1. driver.startRecordingScreen() â—„â”€â”€â”€â”€â”€â”€â”€ ì‹œë‚˜ë¦¬ì˜¤ ì‹œì‘ ì „  â”‚
â”‚       â”‚                                                      â”‚
â”‚       â–¼                                                      â”‚
â”‚  2. ê° ë…¸ë“œ ìˆœì°¨ ì‹¤í–‰                                         â”‚
â”‚       â”œâ”€ tap(), swipe(), waitUntilImage() ë“±                â”‚
â”‚       â””â”€ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ (ì—ëŸ¬/ì™„ë£Œ ì‹œ)                         â”‚
â”‚       â”‚                                                      â”‚
â”‚       â–¼                                                      â”‚
â”‚  3. driver.stopRecordingScreen() â—„â”€â”€â”€â”€â”€â”€â”€ ì‹œë‚˜ë¦¬ì˜¤ ì™„ë£Œ í›„   â”‚
â”‚       â”‚                                                      â”‚
â”‚       â–¼                                                      â”‚
â”‚  4. testReportService.saveVideo()                            â”‚
â”‚       â”‚                                                      â”‚
â”‚       â–¼                                                      â”‚
â”‚  5. DeviceScenarioResult.video = VideoInfo                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. ë¹„ë””ì˜¤ ì €ì¥ ê²½ë¡œ êµ¬ì¡°

```
reports/
â”œâ”€â”€ test/
â”‚   â””â”€â”€ {reportId}.json
â”œâ”€â”€ screenshots/
â”‚   â””â”€â”€ {reportId}/
â”‚       â””â”€â”€ {deviceId}/
â”‚           â””â”€â”€ {nodeId}_{type}_{timestamp}.png
â””â”€â”€ videos/
    â””â”€â”€ {reportId}/
        â””â”€â”€ {deviceId}.mp4    # í˜„ì¬ êµ¬ì¡° (ì „ì²´ í…ŒìŠ¤íŠ¸ë‹¹ 1ê°œ)
```

**ì£¼ì˜**: í˜„ì¬ `saveVideo()`ëŠ” ë””ë°”ì´ìŠ¤ë‹¹ 1ê°œ ë¹„ë””ì˜¤ë§Œ ì €ì¥í•©ë‹ˆë‹¤.
ì‹œë‚˜ë¦¬ì˜¤ë³„ë¡œ ë¶„ë¦¬í•˜ë ¤ë©´ ì¶”ê°€ ìˆ˜ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.

#### 4. ë¹„ë””ì˜¤ ë…¹í™” ì„¤ì •

```typescript
// Appium ë…¹í™” ì˜µì…˜
await driver.startRecordingScreen({
  videoSize: '720x1280',     // 720p ì„¸ë¡œ
  timeLimit: 1800,           // ìµœëŒ€ 30ë¶„ (ì—¬ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤)
  bitRate: 4000000,          // 4Mbps
  forceRestart: true,
});
```

---

## Phase 2: Frontend ë¹„ë””ì˜¤ í”Œë ˆì´ì–´

### UI ì„¤ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TestReports.tsx - ë¦¬í¬íŠ¸ ìƒì„¸                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â–¼ ì‹œë‚˜ë¦¬ì˜¤: ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ (ì‹œë„ 1)                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                   â”‚ â”‚
â”‚  â”‚  [ë””ë°”ì´ìŠ¤ íƒ­]                                                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚  â”‚ emulator-5554 (âœ…)â”‚ emulator-5556 (âœ…)â”‚ Pixel 6 (âŒ)â”‚         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â”‚                                                                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                   ğŸ“¹ ë¹„ë””ì˜¤ í”Œë ˆì´ì–´                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
â”‚  â”‚  â”‚  â–¶ â”â”â”â”â”â”â—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  00:45 / 02:30    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                   â”‚ â”‚
â”‚  â”‚  [íƒ€ì„ë¼ì¸ ë§ˆì»¤]                                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â—                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ ë…¹ìƒ‰=ì„±ê³µ  ë¹¨ê°•=ì‹¤íŒ¨  ë…¸ë‘=ëŒ€ê¸°                               â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                   â”‚ â”‚
â”‚  â”‚  [ì‹¤í–‰ ë‹¨ê³„ í…Œì´ë¸”]                                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚  â”‚ #    â”‚ ì•¡ì…˜           â”‚ ìƒíƒœ   â”‚ ì‹œê°„    â”‚ ìŠ¤í¬ë¦°ìƒ· â”‚        â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚ â”‚
â”‚  â”‚  â”‚ 1    â”‚ launchApp      â”‚ âœ…     â”‚ 2.3s   â”‚ ğŸ“·       â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ 2    â”‚ waitUntilImage â”‚ âœ…     â”‚ 5.1s   â”‚ ğŸ“·       â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ 3    â”‚ tap            â”‚ âŒ     â”‚ 0.5s   â”‚ ğŸ“·       â”‚        â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â”‚                                                                   â”‚ â”‚
â”‚  â”‚  [ìŠ¤í¬ë¦°ìƒ· ê°¤ëŸ¬ë¦¬]                                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”                        â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ“¸    â”‚ â”‚ ğŸ“¸    â”‚ â”‚ ğŸ“¸    â”‚ â”‚ ğŸ“¸    â”‚                        â”‚ â”‚
â”‚  â”‚  â”‚Step 1 â”‚ â”‚Step 2 â”‚ â”‚Step 3 â”‚ â”‚ Error â”‚                        â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚ â”‚
â”‚  â”‚                                                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                         â”‚
â”‚  â–¶ ì‹œë‚˜ë¦¬ì˜¤: íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸ (ì‹œë„ 1)                                    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### API ì—”ë“œí¬ì¸íŠ¸

ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸:
```
GET /api/test-reports/:reportId/videos/:filename
```

ë¹„ë””ì˜¤ URL í˜•ì‹:
```
http://127.0.0.1:3001/api/test-reports/{reportId}/videos/{deviceId}.mp4
```

---

## Phase 3: ParallelReports ë ˆê±°ì‹œ ì‚­ì œ

### ì‚­ì œí•  íŒŒì¼ ëª©ë¡

#### Backend
```
backend/src/services/parallelExecutor.ts     # ì™„ì „ ì‚­ì œ
backend/src/services/parallelReport.ts       # ì™„ì „ ì‚­ì œ
backend/src/services/reportExporter.ts       # TestReportsìš©ìœ¼ë¡œ ìˆ˜ì • ë˜ëŠ” ìœ ì§€
```

#### Backend Routes (session.tsì—ì„œ ì‚­ì œí•  ì—”ë“œí¬ì¸íŠ¸)
```
POST   /api/session/execute-parallel
GET    /api/session/parallel/status
POST   /api/session/parallel/stop/:deviceId
POST   /api/session/parallel/stop-all
GET    /api/session/parallel/reports
GET    /api/session/parallel/reports/:id
DELETE /api/session/parallel/reports/:id
DELETE /api/session/parallel/reports
GET    /api/session/parallel/screenshots/*
GET    /api/session/parallel/videos/*
GET    /api/session/parallel/reports/:id/export/html
GET    /api/session/parallel/reports/:id/export/pdf
GET    /api/session/parallel/r2/status
POST   /api/session/parallel/r2/share/:id
```

#### Frontend
```
frontend/src/components/ParallelReports/     # í´ë” ì „ì²´ ì‚­ì œ
frontend/src/components/ParallelControl/     # í´ë” ì „ì²´ ì‚­ì œ
frontend/src/components/ParallelLogs/        # í´ë” ì „ì²´ ì‚­ì œ
```

#### App.tsxì—ì„œ ì‚­ì œ
- ParallelReports import ë° íƒ­

### ì‚­ì œ ìˆœì„œ

1. **Frontend ë¨¼ì €**
   - App.tsxì—ì„œ ParallelReports íƒ­ ì œê±°
   - ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ í´ë” ì‚­ì œ

2. **Backend Routes**
   - session.tsì—ì„œ parallel ê´€ë ¨ ì—”ë“œí¬ì¸íŠ¸ ì‚­ì œ

3. **Backend Services**
   - parallelExecutor.ts ì‚­ì œ
   - parallelReport.ts ì‚­ì œ

4. **index.ts ì •ë¦¬**
   - parallelExecutor import/ì´ˆê¸°í™” ì œê±°

---

## êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: TestExecutor ë¹„ë””ì˜¤ ë…¹í™”

- [ ] `testExecutor.ts`ì— ë¹„ë””ì˜¤ ë…¹í™” ì‹œì‘/ì¢…ë£Œ ë¡œì§ ì¶”ê°€
- [ ] `_executeScenarioOnDevice()` ìˆ˜ì •
- [ ] ì—ëŸ¬ ë°œìƒ ì‹œì—ë„ ë¹„ë””ì˜¤ ì €ì¥
- [ ] ë¹Œë“œ í…ŒìŠ¤íŠ¸

### Phase 2: Frontend ë¹„ë””ì˜¤ í”Œë ˆì´ì–´

- [ ] `TestReports.tsx`ì— ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ ì¶”ê°€
- [ ] íƒ€ì„ë¼ì¸ ë§ˆì»¤ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
- [ ] CSS ìŠ¤íƒ€ì¼ ì¶”ê°€
- [ ] ë¹Œë“œ í…ŒìŠ¤íŠ¸

### Phase 3: ParallelReports ì‚­ì œ

- [ ] App.tsxì—ì„œ ParallelReports ê´€ë ¨ ì½”ë“œ ì œê±°
- [ ] ParallelReports/, ParallelControl/, ParallelLogs/ í´ë” ì‚­ì œ
- [ ] session.tsì—ì„œ parallel ì—”ë“œí¬ì¸íŠ¸ ì‚­ì œ
- [ ] parallelExecutor.ts, parallelReport.ts ì‚­ì œ
- [ ] index.ts ì •ë¦¬
- [ ] ë¹Œë“œ í…ŒìŠ¤íŠ¸

---

## ì°¸ê³ : í˜„ì¬ saveVideo() êµ¬í˜„

```typescript
// backend/src/services/testReportService.ts (ë¼ì¸ 181-211)

async saveVideo(
  reportId: string,
  deviceId: string,
  videoBase64: string,
  duration: number
): Promise<VideoInfo | null> {
  try {
    const videoDir = this._getVideoDir(reportId);
    await this._ensureDir(videoDir);

    const filename = `${deviceId}.mp4`;
    const filepath = path.join(videoDir, filename);

    const buffer = Buffer.from(videoBase64, 'base64');
    await fs.writeFile(filepath, buffer);

    const stats = await fs.stat(filepath);
    const relativePath = `videos/${reportId}/${filename}`;

    console.log(`[TestReport] ë¹„ë””ì˜¤ ì €ì¥: ${filename} (${(stats.size / 1024 / 1024).toFixed(2)}MB)`);

    return {
      path: relativePath,
      duration,
      size: stats.size,
    };
  } catch (err) {
    console.error(`[TestReport] ë¹„ë””ì˜¤ ì €ì¥ ì˜¤ë¥˜:`, err);
    return null;
  }
}
```

---

*ìµœì¢… ìˆ˜ì •ì¼: 2026-01-13*
